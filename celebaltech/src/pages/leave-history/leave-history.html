<!--
  Generated template for the LeaveHistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>leave history</ion-title>
  </ion-navbar>
</ion-header>


<ion-content *ngIf="EmployeeType=='employee'">

  <ion-card *ngFor="let value of values;let i=index">
    <ion-card-content>
      <ion-card-title>
          <div *ngIf="value.status=='WFM';else other_content">Remote work
            <ion-icon name="checkmark-circle" *ngIf="value.isApproved=='Y'" style="float: right;color:green;"></ion-icon>
            <ion-icon name="close-circle" *ngIf="value.isApproved=='REJ'" style="float: right;color:red;"></ion-icon>
          </div>
          <ng-template #other_content>Leave
              <ion-icon name="checkmark-circle" *ngIf="value.isApproved=='Y'" style="float: right;color:green;"></ion-icon>
              <ion-icon name="close-circle" *ngIf="value.isApproved=='REJ'" style="float: right;color:red;"></ion-icon>
          </ng-template>

      </ion-card-title>
      <p class="container" [class.show]="show[i]"><span style='color:#c95e2e'>Reply &nbsp;</span>{{value.comments}}</p>
      <p class="btnShow" (click)="show[i]= !show[i]">{{ show[i] ? 'Read less': 'Read More....' }}</p>
      <p class="btnShow" (click)="showMessages(i)">sends message</p>
      <p *ngIf="showMessage[i]">{{value.reason}}<p>
    </ion-card-content>
    <ion-grid>
      <ion-row class="headLeave">
        <ion-col col-6>
            <p>from:{{value.DOLF}}</p>
          </ion-col>
          <ion-col col-6>
            <p>to:{{value.DOLT}}</p>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

</ion-content>
<ion-content  *ngIf="EmployeeType=='admin'">
    <ion-grid class="header">
        <ion-row >
            <ion-col col-2 ><ion-label ><ion-icon class="icon"  name="search"></ion-icon></ion-label></ion-col>

            <ion-col col-8><ion-item>
                <ion-input type="tel" placeholder="search" [(ngModel)]="query1" ></ion-input>
            </ion-item>
          </ion-col>
            <ion-col col-2 ><ion-label ><ion-icon name="calendar">
                <ion-datetime class="pp" displayFormat="MMMM/YYYY"  [(ngModel)]="query" (ionChange)="getReport()"></ion-datetime>
              </ion-icon></ion-label></ion-col>

        </ion-row>
    </ion-grid>
    <ion-card *ngFor="let value of values;let i=index">
      <ion-card-content>
          <ion-card-title>
              {{value.EmployeeID}}
          </ion-card-title>
        <ion-card-title>
            <div *ngIf="value.status=='WFM';else other_content">Remote work
              <ion-icon name="checkmark-circle" *ngIf="value.isApproved=='Y'" style="float: right;color:green;"></ion-icon>
              <ion-icon name="close-circle" *ngIf="value.isApproved=='REJ'" style="float: right;color:red;"></ion-icon>
            </div>
            <ng-template #other_content>Leave
                <ion-icon name="checkmark-circle" *ngIf="value.isApproved=='Y'" style="float: right;color:green;"></ion-icon>
                <ion-icon name="close-circle" *ngIf="value.isApproved=='REJ'" style="float: right;color:red;"></ion-icon>
            </ng-template>

        </ion-card-title>
        <p class="container" [class.show]="show[i]"><span style='color:#c95e2e'>Reason &nbsp;</span>{{value.reason}}</p>
        <p class="btnShow" (click)="show[i]= !show[i]">{{ show[i] ? 'Read less': 'Read More....' }}</p>
        <p class="btnShow" (click)="showMessages(i)">sends message</p>
        <p *ngIf="showMessage[i]">{{value.comments}}<p>
      </ion-card-content>
      <ion-grid>
        <ion-row class="headLeave">
          <ion-col col-6>
              <p>from:{{value.DOLF}}</p>
            </ion-col>
            <ion-col col-6>
              <p>to:{{value.DOLT}}</p>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card>

  </ion-content>
